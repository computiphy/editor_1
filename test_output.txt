============================= test session starts =============================
platform win32 -- Python 3.11.0, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\joylo\AppData\Local\Programs\Python\Python311\python.exe
cachedir: .pytest_cache
rootdir: D:\studio\tools\vibecoding\editor_1\wedding_ai_pipeline
configfile: pyproject.toml
plugins: mock-3.15.1
collecting ... collected 16 items

tests/test_album_layout.py::test_template_registry_loads_bundled PASSED  [  6%]
tests/test_album_layout.py::test_template_registry_lookup_by_count PASSED [ 12%]
tests/test_album_layout.py::test_template_cells_normalized PASSED        [ 18%]
tests/test_album_layout.py::test_template_from_json_file PASSED          [ 25%]
tests/test_album_layout.py::test_dominant_color_extraction PASSED        [ 31%]
tests/test_album_layout.py::test_delta_e_same_color PASSED               [ 37%]
tests/test_album_layout.py::test_delta_e_different_colors PASSED         [ 43%]
tests/test_album_layout.py::test_background_selector_empty_dir PASSED    [ 50%]
tests/test_album_layout.py::test_background_selector_picks_closest PASSED [ 56%]
tests/test_album_layout.py::test_renderer_creates_jpeg PASSED            [ 62%]
tests/test_album_layout.py::test_renderer_with_background PASSED         [ 68%]
tests/test_album_layout.py::test_project_serialization_roundtrip PASSED  [ 75%]
tests/test_album_layout.py::test_engine_generates_album PASSED           [ 81%]
tests/test_album_layout.py::test_engine_auto_images_per_page PASSED      [ 87%]
tests/test_pipeline.py::test_pipeline_runs_and_returns_result PASSED     [ 93%]
tests/test_pipeline.py::test_pipeline_add_step PASSED                    [100%]

============================= 16 passed in 9.79s ==============================
